getgenv().jaidenConnection={}local a=game.Players;local b=a.LocalPlayer;local c=b.Character;local d=b.Name;local e=game:GetService("ReplicatedStorage").Remotes.ParryButtonPress;local f=game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("ParryAttempt")local g=game:GetService("VirtualInputManager")local h=game.Workspace.Alive;local i=game.Workspace.Dead;local j=game.Workspace.Balls;local k=j:GetChildren()[1]:GetAttribute("target")or""local l=0;local m=0;local n=false;local o;local function p(o)local q=c.HumanoidRootPart.Position-o.Position;local r=q.Magnitude;local s=q.Unit;local t=o.Velocity:Dot(s)if t<=0 then return 9e9 end;if r<19 then return 0 end;return(r-30)/t end;local function u()local v={}for w,x in pairs(a:GetPlayers())do if not x~=a.LocalPlayer then if x.Character then if x.Character:FindFirstChild("HumanoidRootPart")then v[tostring(x.UserId)]=game.workspace.CurrentCamera:WorldToScreenPoint(x.Character.PrimaryPart.Position)end end end end;f:FireServer("NaN",game.workspace.CurrentCamera.CFrame,v,{game.workspace.CurrentCamera.ViewportSize.X/2,game.workspace.CurrentCamera.ViewportSize.Y/2})end;local function y()local z=Instance.new("Part",game.Workspace)local A=Vector3.new(0.1,0.1,0.1)z.Name="Jaiden's Visual"z.Anchored=true;z.CanCollide=false;z.CanQuery=false;z.CanTouch=false;z.Size=A;z.Material=Enum.Material.ForceField;z.Shape=Enum.PartType.Ball;z.CastShadow=false;return z end;local B;B=y()repeat wait()until j:GetChildren()[1]~=nil;o=j:GetChildren()[1]getgenv().jaidenConnection.lpEvent=game.Players.LocalPlayer.CharacterAdded:Connect(function(C)c=C;for w,x in pairs(game.Workspace:GetChildren())do if x.Name=="Jaiden's Visual"then x:Destroy()end end;B=y()end)getgenv().jaidenConnection.ballSpawned=j.ChildAdded:Connect(function()j:GetChildren()[1]:GetAttributeChangedSignal('target'):Connect(function()k=j:GetChildren()[1]:GetAttribute('target')if k==d then local D=p(j:GetChildren()[1])if D<0.7 then print("close detected")if D<0.3 or(c.HumanoidRootPart.Position-o.Position).Magnitude<=17 then n=true;print(n)else n=false;print(n)end;e:Fire()end else if(c.HumanoidRootPart.Position-o.Position).Magnitude>20 then n=false end end end)end)getgenv().jaidenConnection.ballRemoved=j.ChildRemoved:Connect(function()n=false end)getgenv().jaidenConnection.heartBeat=game:GetService('RunService').Heartbeat:Connect(function()o=j:GetChildren()[1]if o then if n then u()e:Fire()g:SendMouseButtonEvent(1,1,0,true,game,1)end;B.Size=Vector3.new(l/6,l/6,l/6)B.Position=c.HumanoidRootPart.Position;if c:FindFirstChild("Highlight")then if(c.HumanoidRootPart.Position-o.Position).Magnitude<=o.Velocity.Magnitude then if p(o)<0.18 then e:Fire()end end end end end)
